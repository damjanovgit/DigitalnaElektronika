library ieee;
use ieee.std_logic_1164.all;

entity jk_flipflop_tb is
end entity jk_flipflop_tb;

architecture behavioral of jk_flipflop_tb is

    component jk_flipflop
        port (
            j : in std_logic;
            k : in std_logic;
            clk : in std_logic;
            q : out std_logic := '0';
            q_bar : out std_logic
        );
    end component;

    -- Signali za testiranje
    signal j_sig, k_sig, clk_sig : std_logic;
    signal q_sig : std_logic := '0';
    signal q_bar_sig : std_logic := '1';

    constant CLOCK_PERIOD : time := 10 ns;  -- Perioda takta

begin
    dut: jk_flipflop
        port map (
            j => j_sig,
            k => k_sig,
            clk => clk_sig,
            q => q_sig,
            q_bar => q_bar_sig
        );

          clk_process: process
    begin
        while now < 50 ns loop  
            clk_sig <= '0';
            wait for CLOCK_PERIOD/4;
            clk_sig <= '1';
            wait for CLOCK_PERIOD/4;
        end loop;
        wait;
    end process;

    stimulus_process: process
    begin

        -- Inicijalizacija ulaznih signala
        j_sig <= '0';
        k_sig <= '0';

        wait for 5 ns;

        -- Aktivacija JK flip-flopa, postavljanje ulaznih signala
        j_sig <= '1';
        k_sig <= '0';

        wait for 10 ns;


        -- Promjena JK ulaza
        j_sig <= '0';
        k_sig <= '1';
        wait for 10 ns;

        -- Promjena JK ulaza
        j_sig <= '1';
        k_sig <= '1';
        wait for 10 ns;

        j_sig <= '0';
        k_sig <= '0';

        wait for 10 ns;

        wait;
    end process;

end architecture behavioral;
