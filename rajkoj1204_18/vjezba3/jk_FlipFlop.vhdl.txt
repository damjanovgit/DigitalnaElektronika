library ieee;
use ieee.std_logic_1164.all;

entity jk_flipflop is
    port (
        j : in std_logic;
        k : in std_logic;
        clk : in std_logic;
        q : out std_logic;
        q_bar : out std_logic
    );
end entity jk_flipflop;

architecture behavioral of jk_flipflop is
    signal q_internal : std_logic;
begin
    process (clk)
    begin
        if rising_edge(clk) then
            if (j = '1' and k = '0') then
                q_internal <= '1';
            elsif (j = '0' and k = '1') then
                q_internal <= '0';
            elsif (j = '1' and k = '1') then
                q_internal <= not q_internal;
            end if;
        end if;
    end process;

    q <= q_internal;
    q_bar <= not q_internal;
end architecture behavioral;
