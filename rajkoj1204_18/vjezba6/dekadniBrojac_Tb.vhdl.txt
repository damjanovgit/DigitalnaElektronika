library ieee;
use ieee.std_logic_1164.all;

entity DekadniBrojac_TB is
end entity DekadniBrojac_TB;

architecture Behavioral of DekadniBrojac_TB is
    component DekadniBrojac is
        port (
            clk : in std_logic; 
            reset : in std_logic; 
            up : in std_logic; 
            output : out std_logic_vector(3 downto 0)
        );
    end component DekadniBrojac;

    signal clk_tb   : std_logic := '0';
    signal reset_tb : std_logic := '0';
    signal up_tb    : std_logic := '1';
    signal output_tb : std_logic_vector(3 downto 0);

constant CLOCK_PERIOD : time := 10 ns;  -- Perioda takta

begin
    uut: DekadniBrojac
        port map (
            clk    => clk_tb,
            reset  => reset_tb,
            up     => up_tb,
            output => output_tb
        );

    -- Generisanje takta
    clk_process: process
    begin
        while now < 200 ns loop  
            clk_tb <= '0';
            wait for CLOCK_PERIOD / 2;
            clk_tb <= '1';
            wait for CLOCK_PERIOD / 2;
        end loop;
        wait;
    end process;

    stimulus_process: process
    begin

        up_tb <= '1';  -- Brojanje unaprijed 5 takt ciklusa
        wait for 5 * CLOCK_PERIOD;

        up_tb <= '0';  -- Brojanje unazad 3 takt ciklusa
        wait for 3 * CLOCK_PERIOD;

        up_tb <= '1';  -- Brojanje unaprijed 9 takt ciklusa
        wait for 9 * CLOCK_PERIOD;

        -- Aktiviraj sinhroni reset
        reset_tb <= '1';

        wait;
    end process;

end architecture Behavioral;
